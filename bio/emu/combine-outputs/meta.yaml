name: emu combine-outputs
description: Collapse individual abundance tables TSV into a single TSV at the desired taxonomic rank.
url: https://github.com/treangenlab/emu
authors:
  - Curro Campuzano
input:
  - A list of TSV files obtained with emu abundance. 
output:
  - A TSV containing either both abundances and taxonomy or only the abundances.
  - Optionally, a TSV containing the taxonomy (if splitting the previous file in two).
params:
  rank: Accepted ranks are 'tax_id', 'species', 'genus', 'family', 'order', 'class', 'phylum' and 'superkingdom'. If ommited, no agglomeration will be done (that is, the default is 'tax_id'). 
  extra: Extra arguments (such as '--counts'). 
note: The sample columns in the final table will be each filename without extension. If file ends with "_rel-abundance.tsv", the word '_rel-abundance' will be removed to (for consistency with the program). 

