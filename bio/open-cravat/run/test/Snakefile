rule run:
    input:
        'example_input.tsv',
        'modules/commons/hg38wgs',
        'modules/converters/cravat-converter',
        'modules/mappers/hg38',
        'modules/annotators/biogrid', 
        'modules/annotators/clinvar',
        'modules/postaggregators/tagsampler',
        'modules/postaggregators/varmeta',
        'modules/postaggregators/vcfinfo',
        'modules/reporters/excelreporter',
        'modules/reporters/tsvreporter',
        'modules/reporters/csvreporter',
    output:
        'example_input.tsv.xlsx',
        'example_input.tsv.variant.tsv', 
        'example_input.tsv.variant.csv'
    params:
        cores=1
    log:
        "logs/open-cravat/run.log"
    wrapper:
        'master/bio/open-cravat/run'

rule installmodules:
    output:
        directory('modules/commons/hg38wgs'), 
        directory('modules/converters/cravat-converter'), 
        directory('modules/mappers/hg38'), 
        directory('modules/annotators/biogrid'), 
        directory('modules/annotators/clinvar'),
        directory('modules/postaggregators/tagsampler'),
        directory('modules/postaggregators/varmeta'),
        directory('modules/postaggregators/vcfinfo'),
        directory('modules/reporters/excelreporter'),
        directory('modules/reporters/tsvreporter'),
        directory('modules/reporters/csvreporter'),
    log:
        "logs/open-cravat/module.log"
    wrapper:
        'file:module_wrapper/module_wrapper.py'
