__use_yte__: true

default-view: variants

datasets:
  variants:
    path: ?input.overview
    separator: "\t"
    links:
        alignment plot:
          column: INDEX
          view: "{value}"
  ?for i in range(params.max_index):
    ?f"{i}.coverage":
      path: ?f"{input.plot_tables[i]}/{wildcards.sample}.coverage.tsv"
      separator: "\t"
    ?f"{i}.reference":
      path: ?f"{input.plot_tables[i]}/{wildcards.sample}.reference.tsv"
      separator: "\t"
    ?f"{i}.reads":
      path: ?f"{input.plot_tables[i]}/{wildcards.sample}.reads.tsv"
      separator: "\t"
views:
  variants:
    dataset: variants
    render-table:
      columns:
        INDEX:
          display-mode: hidden
  ?for i in range(params.max_index):
    ?i:
        hidden: true
        datasets:
            reads: ?f"{i}.reads"
            reference: ?f"{i}.reference"
            coverage: ?f"{i}.coverage"
        render-plot:
            spec-path: ?f"{input.plot_tables[i]}/{wildcards.sample}.vl.json"
